{"version":3,"sources":["../../scripts/manifest.js","cmp/BufImageGrey32.js","cmp/Popup.js","cmp/DataViewer.js","../../scripts/server.js","../../scripts/network.js","../../scripts/cache.js","../../scripts/engine.js","KolmoApplication.js","../../scripts/formula.js","../../scripts/wasm.js","cmp/ViewButton.js","cmp/Cache.js","cmp/Network.js","cmp/Formula.js","cmp/Manifest.js","cmp/NavTabs.js","App.js","serviceWorker.js","cmp/RunButton.js","index.js"],"names":["Buffer","_home_waterlooit_Desktop_Kolmo_kolmonet_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_home_waterlooit_Desktop_Kolmo_kolmonet_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","_formula_js__WEBPACK_IMPORTED_MODULE_2__","Manifest","json","Object","this","key","value","JSON","stringify","result","status","data","hasOwnProperty","MIME","size","Uint8Array","from","raw","doi","push","_this","formulas","forEach","json_formula","error","__webpack_exports__","BufImageGrey32","props","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","dataView","DataView","buffer","canvas","document","createElement","context","getContext","width","getUint32","height","currImageData","createImageData","i","data_index","r","image_index","putImageData","dataURI","toDataURL","setState","react_default","a","src","alt","Component","PopupStyle","position","top","left","right","bottom","maxWidth","maxHeight","margin","borderRadius","backgroundColor","zIndex","InnerPopupStyle","color","background","text","overflow","DataStyle","marginTop","marginBottom","butStyle","Popup","react_draggable_min_default","axis","handle","defaultPosition","x","y","grid","scale","onStart","handleStart","onDrag","handleDrag","onStop","handleStop","style","className","onClick","closePopup","role","aria-label","React","DataViewer","application","viewerIsShown","showData","updateDataView","bind","assertThisInitialized","setUpdateDataView","clearDataView","data_to_view","clearBtn","indexOf","stringFromUTF8Array","undefined","stringFromOctetStream","cmp_BufImageGrey32","cmp_Popup","dataTogglePopup","str","count","length","index","res","toString","toUpperCase","countToShrink","toFixed","extraByteMap","Number","ch","extra","chx","String","fromCharCode","server","Server","address","createClass","_get_manifest_by_doi","asyncToGenerator","regenerator_default","mark","_callee","url","response","json_data","wrap","_context","prev","next","fetch","sent","statusText","t0","t1","abrupt","stop","_x","apply","arguments","_get_data_by_doi","_callee2","raw_data","_context2","arrayBuffer","_x2","network","Network","settings","cache","Cache","Error","DedicatedServer","_search_manifest","manifest","dois","search_result","source","get_doi","keys","done","search_manifest_by_doi","_search_manifest_by_doi","json_manifest","_manifest","get_manifest_by_doi","scripts_manifest","set_manifest_by_doi","_search_data","_callee3","_context3","search_data_by_doi","_x3","_search_data_by_doi","_callee4","server_data","_context4","get_data_by_doi","set_data_by_doi","_x4","scripts_cache","innerStorage","Map","localStorage","getItem","parse","console","log","get","ToString","setItem","set","removeItem","delete","Math","ceil","parseInt","substr","array_data","padStart","cached_manifests","get_cached_manifests","delete_manifest_by_doi","cached_data","get_cached_data","delete_data_by_doi","_key","startsWith","replace","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","_doi","_manifest2","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_key3","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_doi2","_data","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","engine","Engine","_eval_manifest","raw_value","get_raw_value","search_data","get_formulas","search_manifest","eval_formula","_eval_formula","formula","dependencies","get_dependencies","eval_manifest","eval","_eval2","doi_data_formula","dependencies_data","dependency_manifest","manifest_data","eval_result","t2","t3","get_data_by_manifest","ArgName","KolmoApplication","dedicated_server_address","options","update_manifest","update_data_view","current_manifest","current_manifest_status","manifest_focus_list","str_manifest","pop","_home_waterlooit_Desktop_Kolmo_kolmonet_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_home_waterlooit_Desktop_Kolmo_kolmonet_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_home_waterlooit_Desktop_Kolmo_kolmonet_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_waterlooit_Desktop_Kolmo_kolmonet_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_home_waterlooit_Desktop_Kolmo_kolmonet_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","_manifest_js__WEBPACK_IMPORTED_MODULE_4__","_wasm_js__WEBPACK_IMPORTED_MODULE_5__","Formula","wasm","jsglue","parameters","actor","parameter","param","args","arg","wasm_wrapper","mime","init","exec","get_mime","Wasm","raw_wasm","wasm_memory","_init","wasmModule","Module","WebAssembly","compile","instantiate","exports","memory","Function","Promise","resolve","reject","wasmBinary","onRuntimeInitialized","wasmMemory","create_error","_exec","init_res","arg_index","arg_name_buffer","pointer","pWasmData","argSize","argPointer","pWasmArgData","j","resSize","resPointer","result_data","pResultData","k","_set_arg_name","Uint8ClampedArray","_get_arg_index","create_last_error","_set_arg","_get_result_size","_get_result","_get_last_error","_get_last_error_size","ViewButton","_home_waterlooit_Desktop_Kolmo_kolmonet_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_waterlooit_Desktop_Kolmo_kolmonet_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","textAreaID","manifestDataHolderID","actionClick","_home_waterlooit_Desktop_Kolmo_kolmonet_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","event","_this2","ReactDOM","unmountComponentAtNode","getElementById","btn_caption","target","innerHTML","process","manifestText","render","react__WEBPACK_IMPORTED_MODULE_6___default","_DataViewer__WEBPACK_IMPORTED_MODULE_9__","then","updateApp","handleCacheOper","handleDataView","handleManifestView","name","startCount","cm","cd","col6","cachedManifests","map","title","strDigest","viewManifestButton","cachedData","viewDataButton","get_cached_manifests_size","get_cached_data_size","fetchManifestResult","fetchDataResult","defaultValue","handleFetch","handleDOIChange","handleClearDOI","fetchRes","defineProperty","_this3","id","onChange","display","evalResult","handleEval","btn","dep","cmp_Manifest","getDependencies","init_manifest","rootManifest","showFormulas","handleFetchManifest","handleRemoveManifest","handleFetchData","handleRemoveData","handleViewData","updateManifest","setUpdateManifest","handleChangeManifestFocus","rawData","PopManifestFocusList","PushManifestFocusList","getCurrentManifest","updatedManifest","ManifestHeader","manifestDoi","manifestInCache","dataInCache","manifestMime","manifestSize","get_size","manifestS","viewButton","ManifestControls","mC","pW","dC","dV","_this4","cmp_Formula","outStr","focus_button","ManifestFocusListIsEmpty","getManifestFormulas","getManifestHeader","getManifestControls","NavTabs","cacheIsShown","networkIsShown","data-toggle","href","aria-controls","aria-selected","handleHomePage","handleShowCache","handleShowNetwork","handleShowViewer","handleClearAll","App","setNewManifest","clear","getCache","getNetwork","forceUpdate","cmp_NavTabs","cmp_Cache","cmp_Network","Boolean","window","location","hostname","match","RunButton","src_App_0","querySelectorAll","interactivePanel","querySelector","buttonElement","cmp_RunButton","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fd9b696b.chunk.js","sourcesContent":["import _classCallCheck from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport Formula from './formula.js';\n\nvar Manifest =\n/*#__PURE__*/\nfunction () {\n  function Manifest(json) {\n    _classCallCheck(this, Manifest);\n\n    this.json = json; // TODO: Implement validation RULES:\n    // 1. has no doi -> HAVE TO own raw value or at least one formula\n    // 2. has no MIME -> HAVE TO own doi or at least one formula\n  }\n\n  _createClass(Manifest, [{\n    key: \"ToString\",\n    value: function ToString() {\n      return JSON.stringify(this.json);\n    }\n  }, {\n    key: \"get_mime\",\n    value: function get_mime() {\n      var result = {\n        status: \"Has no MIME\",\n        data: null\n      };\n\n      if (this.json.hasOwnProperty(\"MIME\")) {\n        result.status = \"ok\";\n        result.data = this.json.MIME;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"get_size\",\n    value: function get_size() {\n      var result = {\n        status: \"Has no size\",\n        data: null\n      };\n\n      if (this.json.hasOwnProperty(\"size\")) {\n        result.status = \"ok\";\n        result.data = this.json.size;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"get_raw_value\",\n    value: function get_raw_value() {\n      var result = {\n        status: \"Has no raw\",\n        data: []\n      };\n\n      if (this.json.hasOwnProperty(\"raw\")) {\n        result.status = \"ok\";\n        result.data = new Uint8Array(Buffer.from(this.json.raw));\n      }\n\n      return result;\n    }\n  }, {\n    key: \"get_doi\",\n    value: function get_doi() {\n      var result = {\n        status: \"ok\",\n        data: []\n      };\n\n      if (this.json.hasOwnProperty(\"doi\")) {\n        for (var doi in this.json.doi) {\n          result.data.push(this.json.doi[doi]);\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"get_formulas\",\n    value: function get_formulas() {\n      var _this = this;\n\n      var result = {\n        status: \"\",\n        data: []\n      };\n\n      if (this.json.hasOwnProperty(\"formulas\")) {\n        this.json.formulas.forEach(function (json_formula) {\n          try {\n            result.data.push(new Formula(json_formula, _this));\n          } catch (error) {\n            result.status += \"Error creating formula (\" + error + \") \";\n          }\n        });\n      }\n\n      if (\"\" === result.status) result.status = \"ok\";\n      return result;\n    }\n  }]);\n\n  return Manifest;\n}();\n\nexport default Manifest;","import React, { Component } from 'react';\n\nclass BufImageGrey32 extends Component {\n    \n    constructor(props) \n    {\n        super(props)\n\n        this.state = {\n            data: props.data,\n        }\n    }\n    \n    componentWillMount () {\n\n        var data = new Uint8Array(this.state.data);\n        var dataView = new DataView(data.buffer);\n\n        const canvas = document.createElement('canvas')\n        const context = canvas.getContext('2d')\n\n        canvas.width = dataView.getUint32(0, false); // dx\n        canvas.height = dataView.getUint32(4, false); // dy\n\n        var currImageData = context.createImageData(canvas.width, canvas.height);\n\n        let size = canvas.width * canvas.height\n\n        for (var i = 0; i < size; i++)\n        {\n            var data_index = 8 + i * 4;\n            var r = dataView.getUint32(data_index, false) / 255\n\n            var image_index = i * 4;\n            currImageData.data[image_index] = r\n            currImageData.data[image_index+1] = r\n            currImageData.data[image_index+2] = r\n            currImageData.data[image_index+3] = 255\n        }\n\n        context.putImageData(currImageData, 0, 0);\n    \n        const dataURI = canvas.toDataURL()\n\n        this.setState({dataURI})\n      }\n    \n      render() {\n        return <img src={this.state.dataURI} alt=\"\" />\n      }\n}\n\nexport default BufImageGrey32;","import React from 'react';\nimport Draggable from 'react-draggable';\nconst PopupStyle = {\n\n\"position\":\"fixed\",\n\"top\":\"0\",\n\"left\":\"0\",\n\"right\":\"0\",\n\"bottom\":\"0\",\n\"maxWidth\" : \"50%\",\n\"maxHeight\" : \"50%\",\n\"margin\":\"auto\",\n\"borderRadius\":\"20px\",\n\"backgroundColor\":\"rgba(0,0,0, 0.6)\",\n\"zIndex\": \"10\",\n}\nconst InnerPopupStyle = \n\n{\"position\":\"absolute\",\n\"left\":\"5%\",\n\"right\":\"5%\",\n\"color\": \"#3d3d3d\",\n\"top\":\"10%\",\n\"bottom\":\"5%\",\n\"margin\":\"auto\",\n\"borderRadius\":\"20px\",\n\"background\":\"white\",\n\"text\":\"left\",\n\"overflow\" : \"auto\",\n}\n\nconst DataStyle = \n{\n  \"marginTop\":\"5%\",\n  \"marginBottom\":\"5%\",\n }\nconst butStyle = \n{\n  \"zIndex\" : \"50,\"\n}\n\nclass Popup extends React.Component {  \n  render() { \n\n   \nreturn (  \n  <Draggable\n        axis=\"both\"\n        handle=\".handle\"\n        defaultPosition={{x: 0, y: 0}}\n        position={null}\n        grid={[25, 25]}\n        scale={1}\n        onStart={this.handleStart}\n        onDrag={this.handleDrag}\n        onStop={this.handleStop}>\n    <div  style={PopupStyle} className='handle'>  \n<div className=\"d-flex justify-content-end m-0\">\n<button style={butStyle} className=\"btn btn-md btn-secondary bottom m-1\" onClick={this.props.closePopup}><span role=\"img\" aria-label=\"close\">&#10060;</span></button> \n</div>\n<div  style={InnerPopupStyle} className='popup\\_inner'>  \n<div style={DataStyle}>\n<pre className=\"text-left row m-2 container-fluid\">{this.props.data}</pre>\n </div>\n</div>  \n</div>  \n</Draggable>\n);  \n}  \n}  \n\nexport default Popup;","import React, { Component } from 'react';\nimport BufImageGrey32 from './BufImageGrey32.js';\nimport Popup from './Popup.js';\n\nclass DataViewer extends Component {\n\n    constructor(props) \n    {\n        super(props)\n\n        this.state = {\n            application: props.application,\n            data: props.data,\n            doi: \"\",\n            viewerIsShown: props.viewerIsShown,\n            showData: props.showData,\n            \n        }\n\n        if (this.state.application)\n        {\n            this.updateDataView = this.updateDataView.bind(this)\n            this.state.application.setUpdateDataView(this.updateDataView)\n        }\n\n        this.clearDataView = this.clearDataView.bind(this)\n    }\n    \n    clearDataView(){\n        this.updateDataView(null)\n    }\n\n    updateDataView(data_to_view)\n    {\n        this.setState({\n            data: data_to_view,\n        })\n    }\n\n    \n\n\n    render()\n    {\n       if (null == this.state.data)\n\n            return (<div className=\"DataViewer p-2 bg-secondary rounded mb-0 text-white\">\n           {this.props.viewerIsShown ? <div><div className=\"col-md-12 font-weight-bold m-2\">DATA VIEW</div>\n           <div className=\"alert alert-success alert-dismissible fade show text-truncate text-left m-2\">Fetch manifest and/or data</div> </div>: null}\n            </div>);\n\n            \n\n        let clearBtn = \"\"\n        if (this.state.application)\n            clearBtn = <div><button className=\"btn btn-sm btn-warning m-3\" onClick={this.clearDataView}>Clear</button></div>\n\n        let data_to_view = \"Not supported to view MIME (\" + this.state.data.MIME + \")\"\n\n        if (-1 !== this.state.data.MIME.indexOf(\"text\"))\n            data_to_view = this.stringFromUTF8Array(this.state.data.data)\n\n        if (-1 !== this.state.data.MIME.indexOf(\"json\"))\n            data_to_view = JSON.stringify(this.state.data.data, undefined, 2)\n\n        if (-1 !== this.state.data.MIME.indexOf(\"manifest\"))\n            data_to_view = JSON.stringify(this.state.data.data.json, undefined, 2)\n        \n        if (-1 !== this.state.data.MIME.indexOf(\"octet-stream\"))\n            data_to_view = this.stringFromOctetStream(this.state.data.data)\n\n        if (-1 !== this.state.data.MIME.indexOf(\"BufImage/Grey32\"))\n            data_to_view = <BufImageGrey32 data={this.state.data.data}/>\n\n        \n            \n        return (\n\n       \n           (this.props.viewerIsShown !== false) ?\n            <div className=\"DataViewer bg-secondary rounded mb-0 text-white p-2\">\n                     <div className=\"col-md-12 font-weight-bold m-2\">DATA VIEW</div>\n                    <div className=\"alert alert-success alert-dismissible fade show text-truncate m-2\"><pre className=\"text-left row m-2 container-fluid\">{data_to_view}</pre></div>\n                    <div>{this.state.doi}</div>\n                    <div className=\"col-md-12\">\n                    {clearBtn}</div>\n           </div> : \n           (this.props.showData !== false) ? <Popup data={data_to_view} closePopup={this.props.dataTogglePopup}/> : null \n            );\n    }\n\n    stringFromOctetStream(data)\n    {\n        const maxCount = 50;\n        var str = \"\";\n        var count = data.length;\n\n        if (count > maxCount)\n        {\n            count = maxCount;\n            str = \"First \" + maxCount + \" bytes: \";\n        }\n\n        for (var index = 0; index < count;)\n        {\n            var ch = data[index++];\n            \n            var res = ch.toString(16).toUpperCase();\n            \n            if (res.length === 1) res = '0' + res;\n            \n            str += res;\n        }\n\n        return str\n    }\n\n    stringFromUTF8Array(data)\n    {\n        const maxCount = 1000;\n        const countToShrink = (maxCount / 2).toFixed(0);\n\n        const extraByteMap = [ 1, 1, 1, 1, 2, 2, 3, 0 ];\n        var count = data.length;\n        var str = \"\";\n\n        for (var index = 0; index < count;)\n        {\n            if (count > maxCount)\n            {\n                if (index >= countToShrink)\n                {\n                    if (index === Number(countToShrink))\n                        str += \"...\" + (count - countToShrink - countToShrink) + \" bytes...\";\n\n                    if (index < (count - countToShrink))\n                    {\n                        index++;\n                        continue;\n                    }\n                }\n            }\n\n            var ch = data[index++];\n            if (ch & 0x80)\n            {\n            var extra = extraByteMap[(ch >> 3) & 0x07];\n            if (!(ch & 0x40) || !extra || ((index + extra) > count))\n                return null;\n            \n            ch = ch & (0x3F >> extra);\n            for (;extra > 0;extra -= 1)\n            {\n                var chx = data[index++];\n                if ((chx & 0xC0) !== 0x80)\n                return null;\n                \n                ch = (ch << 6) | (chx & 0x3F);\n            }\n            }\n            \n            str += String.fromCharCode(ch);\n        }\n\n        return str;\n    }\n}\n\nexport default DataViewer;","import _regeneratorRuntime from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar Server =\n/*#__PURE__*/\nfunction () {\n  function Server(address) {\n    _classCallCheck(this, Server);\n\n    this.address = address;\n  }\n\n  _createClass(Server, [{\n    key: \"get_manifest_by_doi\",\n    value: function () {\n      var _get_manifest_by_doi = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(doi) {\n        var result, url, response, json_data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                result = {\n                  status: \"\",\n                  data: null\n                };\n                url = this.address + '/search?doi=' + doi;\n                _context.prev = 2;\n                _context.next = 5;\n                return fetch(url);\n\n              case 5:\n                response = _context.sent;\n                _context.prev = 6;\n\n                if (!(200 === response.status)) {\n                  _context.next = 15;\n                  break;\n                }\n\n                _context.next = 10;\n                return response.json();\n\n              case 10:\n                json_data = _context.sent;\n                result.data = json_data;\n                result.status = \"ok\";\n                _context.next = 16;\n                break;\n\n              case 15:\n                result.status = \"Response error: \" + response.statusText;\n\n              case 16:\n                _context.next = 21;\n                break;\n\n              case 18:\n                _context.prev = 18;\n                _context.t0 = _context[\"catch\"](6);\n                result.status = \"Error parsing request (\" + _context.t0 + \")\";\n\n              case 21:\n                _context.next = 26;\n                break;\n\n              case 23:\n                _context.prev = 23;\n                _context.t1 = _context[\"catch\"](2);\n                result.status = \"Error requesting server (\" + _context.t1 + \")\";\n\n              case 26:\n                return _context.abrupt(\"return\", result);\n\n              case 27:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 23], [6, 18]]);\n      }));\n\n      function get_manifest_by_doi(_x) {\n        return _get_manifest_by_doi.apply(this, arguments);\n      }\n\n      return get_manifest_by_doi;\n    }()\n  }, {\n    key: \"get_data_by_doi\",\n    value: function () {\n      var _get_data_by_doi = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(doi) {\n        var result, url, response, raw_data;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                result = {\n                  status: \"\",\n                  data: null\n                };\n                url = this.address + '/raw/' + doi;\n                _context2.prev = 2;\n                _context2.next = 5;\n                return fetch(url);\n\n              case 5:\n                response = _context2.sent;\n\n                if (!(200 === response.status)) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                _context2.next = 9;\n                return response.arrayBuffer();\n\n              case 9:\n                raw_data = _context2.sent;\n                result.data = raw_data;\n                result.status = \"ok\";\n                _context2.next = 15;\n                break;\n\n              case 14:\n                result.status = \"Response error: \" + response.statusText;\n\n              case 15:\n                _context2.next = 20;\n                break;\n\n              case 17:\n                _context2.prev = 17;\n                _context2.t0 = _context2[\"catch\"](2);\n                result.status = \"Error requesting server (\" + _context2.t0 + \")\";\n\n              case 20:\n                return _context2.abrupt(\"return\", result);\n\n              case 21:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[2, 17]]);\n      }));\n\n      function get_data_by_doi(_x2) {\n        return _get_data_by_doi.apply(this, arguments);\n      }\n\n      return get_data_by_doi;\n    }()\n  }]);\n\n  return Server;\n}();\n\nexport default Server;","import _regeneratorRuntime from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport Server from './server.js';\nimport Manifest from './manifest.js';\n\nvar Network =\n/*#__PURE__*/\nfunction () {\n  function Network(settings, cache) {\n    _classCallCheck(this, Network);\n\n    this.Cache = cache;\n\n    if (settings.hasOwnProperty(\"DedicatedServer\")) {\n      this.DedicatedServer = new Server(settings[\"DedicatedServer\"]);\n      return;\n    }\n\n    throw new Error(\"Bad network settings\");\n  }\n\n  _createClass(Network, [{\n    key: \"search_manifest\",\n    value: function () {\n      var _search_manifest = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(manifest) {\n        var result, dois, doi, search_result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                result = {\n                  status: \"Not found\",\n                  source: null,\n                  data: null\n                };\n                dois = manifest.get_doi();\n\n                if (!(0 === dois.data.length)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                result.status = \"Manifest has no doi\";\n                return _context.abrupt(\"return\", result);\n\n              case 5:\n                if (!this.DedicatedServer) {\n                  _context.next = 22;\n                  break;\n                }\n\n                _context.t0 = _regeneratorRuntime.keys(dois.data);\n\n              case 7:\n                if ((_context.t1 = _context.t0()).done) {\n                  _context.next = 22;\n                  break;\n                }\n\n                doi = _context.t1.value;\n                _context.next = 11;\n                return this.search_manifest_by_doi(dois.data[doi]);\n\n              case 11:\n                search_result = _context.sent;\n\n                if (!(\"ok\" === search_result.status)) {\n                  _context.next = 19;\n                  break;\n                }\n\n                result.status = \"ok\";\n                result.source = search_result.source;\n                result.data = search_result.data;\n                return _context.abrupt(\"return\", result);\n\n              case 19:\n                result.status = search_result.status;\n\n              case 20:\n                _context.next = 7;\n                break;\n\n              case 22:\n                return _context.abrupt(\"return\", result);\n\n              case 23:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function search_manifest(_x) {\n        return _search_manifest.apply(this, arguments);\n      }\n\n      return search_manifest;\n    }()\n  }, {\n    key: \"search_manifest_by_doi\",\n    value: function () {\n      var _search_manifest_by_doi = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(doi) {\n        var result, manifest, json_manifest, _manifest;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                result = {\n                  status: \"\",\n                  source: null,\n                  data: null\n                };\n\n                if (!(\"\" == doi)) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                result.status = \"Empty doi\";\n                return _context2.abrupt(\"return\", result);\n\n              case 4:\n                if (!this.DedicatedServer) {\n                  _context2.next = 18;\n                  break;\n                }\n\n                manifest = this.Cache.get_manifest_by_doi(doi);\n\n                if (!(\"ok\" === manifest.status)) {\n                  _context2.next = 12;\n                  break;\n                }\n\n                result.status = \"ok\";\n                result.source = \"Cache\";\n                result.data = manifest.data;\n                _context2.next = 16;\n                break;\n\n              case 12:\n                _context2.next = 14;\n                return this.DedicatedServer.get_manifest_by_doi(doi);\n\n              case 14:\n                json_manifest = _context2.sent;\n\n                if (\"ok\" === json_manifest.status) {\n                  try {\n                    _manifest = new Manifest(json_manifest.data);\n                    result.status = \"ok\";\n                    result.source = \"Network\";\n                    result.data = _manifest;\n                    this.Cache.set_manifest_by_doi(_manifest, doi);\n                  } catch (error) {\n                    result.status = \"Not valid manifest (\" + error + \")\";\n                  }\n                } else {\n                  result.status = json_manifest.status;\n                }\n\n              case 16:\n                _context2.next = 19;\n                break;\n\n              case 18:\n                result.status = \"Not implimented\";\n\n              case 19:\n                return _context2.abrupt(\"return\", result);\n\n              case 20:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function search_manifest_by_doi(_x2) {\n        return _search_manifest_by_doi.apply(this, arguments);\n      }\n\n      return search_manifest_by_doi;\n    }()\n  }, {\n    key: \"search_data\",\n    value: function () {\n      var _search_data = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(manifest) {\n        var result, dois, doi, search_result;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                result = {\n                  status: \"Not found\",\n                  source: null,\n                  data: null\n                };\n                dois = manifest.get_doi();\n\n                if (!(0 === dois.data.length)) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                result.status = \"Manifest has no doi\";\n                return _context3.abrupt(\"return\", result);\n\n              case 5:\n                if (!this.DedicatedServer) {\n                  _context3.next = 22;\n                  break;\n                }\n\n                _context3.t0 = _regeneratorRuntime.keys(dois.data);\n\n              case 7:\n                if ((_context3.t1 = _context3.t0()).done) {\n                  _context3.next = 22;\n                  break;\n                }\n\n                doi = _context3.t1.value;\n                _context3.next = 11;\n                return this.search_data_by_doi(dois.data[doi]);\n\n              case 11:\n                search_result = _context3.sent;\n\n                if (!(\"ok\" === search_result.status)) {\n                  _context3.next = 19;\n                  break;\n                }\n\n                result.status = \"ok\";\n                result.source = search_result.source;\n                result.data = search_result.data;\n                return _context3.abrupt(\"return\", result);\n\n              case 19:\n                result.status = search_result.status;\n\n              case 20:\n                _context3.next = 7;\n                break;\n\n              case 22:\n                return _context3.abrupt(\"return\", result);\n\n              case 23:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function search_data(_x3) {\n        return _search_data.apply(this, arguments);\n      }\n\n      return search_data;\n    }()\n  }, {\n    key: \"search_data_by_doi\",\n    value: function () {\n      var _search_data_by_doi = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(doi) {\n        var result, data, server_data;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                result = {\n                  status: \"\",\n                  source: null,\n                  data: null\n                };\n\n                if (!this.DedicatedServer) {\n                  _context4.next = 22;\n                  break;\n                }\n\n                data = this.Cache.get_data_by_doi(doi);\n\n                if (!(\"ok\" === data.status)) {\n                  _context4.next = 8;\n                  break;\n                }\n\n                result.status = \"ok\";\n                result.source = \"Cache\";\n                result.data = data.data;\n                return _context4.abrupt(\"return\", result);\n\n              case 8:\n                _context4.next = 10;\n                return this.DedicatedServer.get_data_by_doi(doi);\n\n              case 10:\n                server_data = _context4.sent;\n\n                if (!(\"ok\" === server_data.status)) {\n                  _context4.next = 19;\n                  break;\n                }\n\n                result.status = \"ok\";\n                result.source = \"Network\";\n                result.data = server_data.data;\n                this.Cache.set_data_by_doi(server_data.data, doi);\n                return _context4.abrupt(\"return\", result);\n\n              case 19:\n                result.status = server_data.status;\n\n              case 20:\n                _context4.next = 23;\n                break;\n\n              case 22:\n                result.status = \"Not implimented\";\n\n              case 23:\n                return _context4.abrupt(\"return\", result);\n\n              case 24:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function search_data_by_doi(_x4) {\n        return _search_data_by_doi.apply(this, arguments);\n      }\n\n      return search_data_by_doi;\n    }()\n  }]);\n\n  return Network;\n}();\n\nexport default Network;","import _classCallCheck from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport Manifest from './manifest.js';\nvar MANIFEST_PREFIX = \"/manifest/\";\nvar RAWDATA_PREFIX = \"/rawdata/\";\n\nvar Cache =\n/*#__PURE__*/\nfunction () {\n  function Cache() {\n    _classCallCheck(this, Cache);\n\n    this.innerStorage = new Map();\n  }\n\n  _createClass(Cache, [{\n    key: \"get_manifest_by_doi\",\n    value: function get_manifest_by_doi(doi) {\n      var result = {\n        status: \"Not found\",\n        data: null\n      };\n      var key = MANIFEST_PREFIX + doi;\n\n      try {\n        var _manifest = localStorage.getItem(key);\n\n        if (_manifest) {\n          result.status = \"ok\";\n          result.data = new Manifest(JSON.parse(_manifest));\n          return result;\n        }\n      } catch (error) {\n        console.log(\"get_manifest_by_doi, localStorage.getItem error: \" + error);\n      }\n\n      var manifest = this.innerStorage.get(key);\n\n      if (manifest) {\n        result.status = \"ok\";\n        result.data = new Manifest(JSON.parse(manifest));\n      }\n\n      return result;\n    }\n  }, {\n    key: \"set_manifest_by_doi\",\n    value: function set_manifest_by_doi(manifest, doi) {\n      var key = MANIFEST_PREFIX + doi;\n      var value = manifest.ToString();\n\n      try {\n        localStorage.setItem(key, value);\n        return;\n      } catch (error) {\n        console.log(\"set_manifest_by_doi, localStorage.setItem error: \" + error);\n      }\n\n      this.innerStorage.set(key, value);\n    }\n  }, {\n    key: \"delete_manifest_by_doi\",\n    value: function delete_manifest_by_doi(doi) {\n      var key = MANIFEST_PREFIX + doi;\n\n      try {\n        if (localStorage.getItem(key)) {\n          localStorage.removeItem(key);\n          return true;\n        }\n      } catch (error) {\n        console.log(\"delete_manifest_by_doi, localStorage error: \" + error);\n      }\n\n      return this.innerStorage.delete(key);\n    }\n  }, {\n    key: \"get_data_by_doi\",\n    value: function get_data_by_doi(doi) {\n      var result = {\n        status: \"Not found\",\n        data: null\n      };\n      var key = RAWDATA_PREFIX + doi;\n      var raw_data = null;\n\n      try {\n        raw_data = localStorage.getItem(key);\n      } catch (error) {\n        console.log(\"get_data_by_doi, localStorage.getItem error: \" + error);\n      }\n\n      if (!raw_data) raw_data = this.innerStorage.get(key);\n\n      if (raw_data) {\n        result.status = \"ok\";\n        var length = Math.ceil(raw_data.length / 2);\n        result.data = new Uint8Array(length);\n\n        for (var i = 0; i < length; i++) {\n          result.data[i] = parseInt(raw_data.substr(i * 2, 2), 16);\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"get_data_by_manifest\",\n    value: function get_data_by_manifest(manifest) {\n      var result = {\n        status: \"Not found\",\n        data: null\n      };\n      var dois = manifest.get_doi();\n\n      if (\"ok\" === dois.status) {\n        for (var doi in dois.data) {\n          var data = this.get_data_by_doi(dois.data[doi]).data;\n\n          if (data) {\n            result.status = \"ok\";\n            result.data = data;\n            return result;\n          }\n        }\n      } else result.status = \"Manifest has no doi\";\n\n      return result;\n    }\n  }, {\n    key: \"set_data_by_doi\",\n    value: function set_data_by_doi(data, doi) {\n      var key = RAWDATA_PREFIX + doi;\n      var value = \"\";\n      var array_data = new Uint8Array(data);\n\n      for (var i = 0; i < array_data.length; i++) {\n        value += array_data[i].toString(16).padStart(2, \"0\");\n      }\n\n      try {\n        localStorage.setItem(key, value);\n        return;\n      } catch (error) {\n        console.log(\"set_data_by_doi, localStorage.setItem error: \" + error);\n      }\n\n      this.innerStorage.set(key, value);\n    }\n  }, {\n    key: \"delete_data_by_doi\",\n    value: function delete_data_by_doi(doi) {\n      var key = RAWDATA_PREFIX + doi;\n\n      try {\n        if (localStorage.getItem(key)) {\n          localStorage.removeItem(key);\n          return true;\n        }\n      } catch (error) {\n        console.log(\"delete_data_by_doi, localStorage error: \" + error);\n      }\n\n      return this.innerStorage.delete(key);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var cached_manifests = this.get_cached_manifests();\n\n      for (var i = 0; i < cached_manifests.length; i++) {\n        this.delete_manifest_by_doi(cached_manifests[i].doi);\n      }\n\n      var cached_data = this.get_cached_data();\n\n      for (var i = 0; i < cached_data.length; i++) {\n        this.delete_data_by_doi(cached_data[i].doi);\n      }\n\n      var size = cached_manifests.length + cached_data.length;\n      return 0 !== size ? true : false;\n    }\n  }, {\n    key: \"get_cached_manifests\",\n    value: function get_cached_manifests() {\n      var result = [];\n\n      try {\n        for (var i = 0; i < localStorage.length; i++) {\n          var _key = localStorage.key(i);\n\n          if (true === _key.startsWith(MANIFEST_PREFIX)) {\n            var doi = _key.replace(MANIFEST_PREFIX, \"\");\n\n            var manifest = this.get_manifest_by_doi(doi).data;\n            result.push({\n              doi: doi,\n              value: manifest\n            });\n          }\n        }\n      } catch (error) {\n        console.log(\"get_cached_manifests, localStorage error: \" + error);\n      }\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.innerStorage.keys()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var key = _step.value;\n\n          if (true === key.startsWith(MANIFEST_PREFIX)) {\n            var _doi = key.replace(MANIFEST_PREFIX, \"\");\n\n            var _manifest2 = this.get_manifest_by_doi(_doi).data;\n            result.push({\n              doi: _doi,\n              value: _manifest2\n            });\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"get_cached_manifests_size\",\n    value: function get_cached_manifests_size() {\n      var result = 0;\n\n      try {\n        for (var i = 0; i < localStorage.length; i++) {\n          var _key2 = localStorage.key(i);\n\n          if (true === _key2.startsWith(MANIFEST_PREFIX)) result++;\n        }\n      } catch (error) {\n        console.log(\"get_cached_manifests_size, localStorage error: \" + error);\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.innerStorage.keys()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var key = _step2.value;\n          if (true === key.startsWith(MANIFEST_PREFIX)) result++;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"get_cached_data\",\n    value: function get_cached_data() {\n      var result = [];\n\n      try {\n        for (var i = 0; i < localStorage.length; i++) {\n          var _key3 = localStorage.key(i);\n\n          if (true === _key3.startsWith(RAWDATA_PREFIX)) {\n            var doi = _key3.replace(RAWDATA_PREFIX, \"\");\n\n            var data = this.get_data_by_doi(doi).data;\n            result.push({\n              doi: doi,\n              value: data\n            });\n          }\n        }\n      } catch (error) {\n        console.log(\"get_cached_data, localStorage error: \" + error);\n      }\n\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = this.innerStorage.keys()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var key = _step3.value;\n\n          if (true === key.startsWith(RAWDATA_PREFIX)) {\n            var _doi2 = key.replace(RAWDATA_PREFIX, \"\");\n\n            var _data = this.get_data_by_doi(_doi2).data;\n            result.push({\n              doi: _doi2,\n              value: _data\n            });\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"get_cached_data_size\",\n    value: function get_cached_data_size() {\n      var result = 0;\n\n      try {\n        for (var i = 0; i < localStorage.length; i++) {\n          var _key4 = localStorage.key(i);\n\n          if (true === _key4.startsWith(RAWDATA_PREFIX)) result++;\n        }\n      } catch (error) {\n        console.log(\"get_cached_data_size, localStorage error: \" + error);\n      }\n\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = this.innerStorage.keys()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var key = _step4.value;\n          if (true === key.startsWith(RAWDATA_PREFIX)) result++;\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n\n      return result;\n    }\n  }]);\n\n  return Cache;\n}();\n\nexport default Cache;","import _regeneratorRuntime from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport Network from './network.js';\nimport Cache from './cache.js';\n\nvar Engine =\n/*#__PURE__*/\nfunction () {\n  function Engine(settings) {\n    _classCallCheck(this, Engine);\n\n    this.Cache = new Cache();\n\n    if (settings.hasOwnProperty(\"Network\")) {\n      this.Network = new Network(settings[\"Network\"], this.Cache);\n      return;\n    }\n\n    throw new Error(\"Bad engine settings\");\n  }\n\n  _createClass(Engine, [{\n    key: \"network\",\n    value: function network() {\n      return this.Network;\n    }\n  }, {\n    key: \"cache\",\n    value: function cache() {\n      return this.Cache;\n    }\n  }, {\n    key: \"eval_manifest\",\n    value: function () {\n      var _eval_manifest = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(manifest) {\n        var result, raw_value, data, formulas, i, _data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                result = {\n                  status: \"\",\n                  data: []\n                };\n                raw_value = manifest.get_raw_value();\n\n                if (!(\"ok\" === raw_value.status)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                result.status = \"ok\";\n                result.data = raw_value.data;\n                return _context.abrupt(\"return\", result);\n\n              case 6:\n                _context.next = 8;\n                return this.Network.search_data(manifest);\n\n              case 8:\n                data = _context.sent;\n\n                if (!(\"ok\" === data.status)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                result.status = \"ok\";\n                result.data = data.data;\n                return _context.abrupt(\"return\", result);\n\n              case 13:\n                formulas = manifest.get_formulas();\n\n                if (!(0 === formulas.data.length)) {\n                  _context.next = 23;\n                  break;\n                }\n\n                result.status = \"Manifest has no formulas\";\n                _context.next = 18;\n                return this.Network.search_manifest(manifest);\n\n              case 18:\n                manifest = _context.sent;\n\n                if (!(\"ok\" !== manifest.status)) {\n                  _context.next = 22;\n                  break;\n                }\n\n                result.status = manifest.status;\n                return _context.abrupt(\"return\", result);\n\n              case 22:\n                formulas = manifest.data.get_formulas();\n\n              case 23:\n                _context.t0 = _regeneratorRuntime.keys(formulas.data);\n\n              case 24:\n                if ((_context.t1 = _context.t0()).done) {\n                  _context.next = 36;\n                  break;\n                }\n\n                i = _context.t1.value;\n                _context.next = 28;\n                return this.eval_formula(formulas.data[i]);\n\n              case 28:\n                _data = _context.sent;\n\n                if (!(\"ok\" === _data.status)) {\n                  _context.next = 33;\n                  break;\n                }\n\n                result.status = \"ok\";\n                result.data = _data.data;\n                return _context.abrupt(\"return\", result);\n\n              case 33:\n                result.status = _data.status;\n                _context.next = 24;\n                break;\n\n              case 36:\n                return _context.abrupt(\"return\", result);\n\n              case 37:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function eval_manifest(_x) {\n        return _eval_manifest.apply(this, arguments);\n      }\n\n      return eval_manifest;\n    }()\n  }, {\n    key: \"eval_formula\",\n    value: function () {\n      var _eval_formula = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(formula) {\n        var result, dependencies, i, dep_data, data;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                result = {\n                  status: \"\",\n                  data: []\n                };\n                dependencies = formula.get_dependencies();\n\n                if (!(\"ok\" === dependencies.status)) {\n                  _context2.next = 20;\n                  break;\n                }\n\n                _context2.t0 = _regeneratorRuntime.keys(dependencies.data);\n\n              case 4:\n                if ((_context2.t1 = _context2.t0()).done) {\n                  _context2.next = 18;\n                  break;\n                }\n\n                i = _context2.t1.value;\n                _context2.next = 8;\n                return this.Network.search_data(dependencies.data[i]);\n\n              case 8:\n                dep_data = _context2.sent;\n\n                if (!(\"ok\" !== dep_data.status)) {\n                  _context2.next = 16;\n                  break;\n                }\n\n                _context2.next = 12;\n                return this.eval_manifest(dependencies.data[i]);\n\n              case 12:\n                data = _context2.sent;\n\n                if (!(\"ok\" !== data.status)) {\n                  _context2.next = 16;\n                  break;\n                }\n\n                result.status = data.status;\n                return _context2.abrupt(\"return\", result);\n\n              case 16:\n                _context2.next = 4;\n                break;\n\n              case 18:\n                _context2.next = 22;\n                break;\n\n              case 20:\n                result.status = \"Formula has no dependencies\";\n                return _context2.abrupt(\"return\", result);\n\n              case 22:\n                _context2.next = 24;\n                return this.eval(formula);\n\n              case 24:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 25:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function eval_formula(_x2) {\n        return _eval_formula.apply(this, arguments);\n      }\n\n      return eval_formula;\n    }()\n  }, {\n    key: \"eval\",\n    value: function () {\n      var _eval2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(formula) {\n        var result, doi_data_formula, dois, doi, cached_data, dependencies_data, dependencies, dependency_manifest, manifest, manifest_data, raw_value, eval_result;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                result = {\n                  status: \"\",\n                  source: null,\n                  data: []\n                };\n                doi_data_formula = null;\n\n                if (!formula.manifest) {\n                  _context3.next = 17;\n                  break;\n                }\n\n                dois = formula.manifest.get_doi();\n\n                if (!(\"ok\" === dois.status)) {\n                  _context3.next = 17;\n                  break;\n                }\n\n                _context3.t0 = _regeneratorRuntime.keys(dois.data);\n\n              case 6:\n                if ((_context3.t1 = _context3.t0()).done) {\n                  _context3.next = 17;\n                  break;\n                }\n\n                doi = _context3.t1.value;\n                doi_data_formula = dois.data[doi];\n                cached_data = this.Cache.get_data_by_doi(doi_data_formula);\n\n                if (!(\"ok\" === cached_data.status)) {\n                  _context3.next = 15;\n                  break;\n                }\n\n                result.status = \"ok\";\n                result.source = \"Cache\";\n                result.data = cached_data.data;\n                return _context3.abrupt(\"return\", result);\n\n              case 15:\n                _context3.next = 6;\n                break;\n\n              case 17:\n                dependencies_data = new Map();\n                dependencies = formula.get_dependencies();\n\n                if (!(\"ok\" === dependencies.status)) {\n                  _context3.next = 42;\n                  break;\n                }\n\n                _context3.t2 = _regeneratorRuntime.keys(dependencies.data);\n\n              case 21:\n                if ((_context3.t3 = _context3.t2()).done) {\n                  _context3.next = 40;\n                  break;\n                }\n\n                dependency_manifest = _context3.t3.value;\n                manifest = dependencies.data[dependency_manifest];\n                _context3.next = 26;\n                return this.Cache.get_data_by_manifest(manifest);\n\n              case 26:\n                manifest_data = _context3.sent;\n\n                if (!(\"ok\" === manifest_data.status)) {\n                  _context3.next = 31;\n                  break;\n                }\n\n                dependencies_data.set(manifest.ArgName, manifest_data.data);\n                _context3.next = 38;\n                break;\n\n              case 31:\n                raw_value = manifest.get_raw_value();\n\n                if (!(\"ok\" === raw_value.status)) {\n                  _context3.next = 36;\n                  break;\n                }\n\n                dependencies_data.set(manifest.ArgName, raw_value.data);\n                _context3.next = 38;\n                break;\n\n              case 36:\n                result.status = \"Cache has no data for dependency: \" + manifest.ArgName;\n                return _context3.abrupt(\"return\", result);\n\n              case 38:\n                _context3.next = 21;\n                break;\n\n              case 40:\n                _context3.next = 44;\n                break;\n\n              case 42:\n                result.status = \"Formula has no dependencies\";\n                return _context3.abrupt(\"return\", result);\n\n              case 44:\n                _context3.next = 46;\n                return formula.eval(dependencies_data);\n\n              case 46:\n                eval_result = _context3.sent;\n\n                if (\"ok\" === eval_result.status) {\n                  //TODO: let check_result = formula.manifest.check_data(eval_result.data);\n                  result.status = \"ok\";\n                  result.source = \"Evaluation\";\n                  result.data = eval_result.data;\n                  if (doi_data_formula) this.Cache.set_data_by_doi(eval_result.data, doi_data_formula);\n                } else result.status = \"Error evaluation formula (\" + eval_result.status + \")\";\n\n                return _context3.abrupt(\"return\", result);\n\n              case 49:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function _eval(_x3) {\n        return _eval2.apply(this, arguments);\n      }\n\n      return _eval;\n    }()\n  }]);\n\n  return Engine;\n}();\n\nexport default Engine;","import Engine from '../../scripts/engine.js'\nimport Manifest from '../../scripts/manifest.js'\n\nclass KolmoApplication\n{\n    constructor(dedicated_server_address)\n    {\n        let options = {\n            Network: {\n                DedicatedServer: dedicated_server_address\n            }\n        };\n\n        this.engine = new Engine(options)\n\n        this.update_manifest = null;\n        this.update_data_view = null;\n\n        this.current_manifest = null;\n        this.current_manifest_status = \"Not defined\";\n\n        this.manifest_focus_list = []\n    }\n\n    setUpdateManifest(update_manifest){\n        this.update_manifest = update_manifest\n    }\n\n    setUpdateDataView(update_data_view){\n        this.update_data_view = update_data_view\n    }\n\n    updateDataView(data)\n    {\n        if (null != this.update_data_view)\n            this.update_data_view(data)\n    }\n\n    getCache() {\n        return this.engine.cache()\n    }\n\n    getNetwork() {\n        return this.engine.network()\n    }\n\n    getCurrentManifest()\n    {\n        let result = {\n            status: \"ok\",\n            data: null\n        };\n\n        result.data = this.current_manifest;\n        result.status = this.current_manifest_status;\n\n        return result\n    }\n\n    setNewManifest(str_manifest)\n    {\n        if (null == str_manifest)\n        {\n            this.current_manifest = null;\n            this.current_manifest_status = \"Not defined\";\n\n            this.update_manifest();\n\n            return\n        }\n\n        this.manifest_focus_list = []\n\n        this.current_manifest = null;\n        this.current_manifest_status = \"Not defined\";\n\n        try\n        {\n            this.current_manifest = new Manifest(JSON.parse(str_manifest));\n            this.current_manifest_status = \"ok\";\n        }\n        catch(error)\n        {\n            this.current_manifest_status = \"Error creating manifest: \" + error\n        }\n\n        if (null !== this.update_manifest)\n            this.update_manifest();\n    }\n\n    PushManifestFocusList(manifest)\n    {\n        if (0 === this.manifest_focus_list.length)\n            this.manifest_focus_list.push({ data:this.current_manifest, status:this.current_manifest_status })\n        \n        this.manifest_focus_list.push({ data:manifest.data, status:manifest.status })\n\n        this.current_manifest = manifest.data;\n        this.current_manifest_status = manifest.status;\n\n        if (null !== this.update_manifest)\n            this.update_manifest();\n    }\n\n    PopManifestFocusList()\n    {\n        let manifest = this.manifest_focus_list.pop()\n\n        if (null != manifest)\n        {\n            manifest = this.manifest_focus_list.pop()\n\n            if (null != manifest)\n            {\n                this.current_manifest = manifest.data;\n                this.current_manifest_status = manifest.status;\n\n                if (null !== this.update_manifest)\n                    this.update_manifest();\n            }\n        }\n    }\n\n    ManifestFocusListIsEmpty(){\n        return (0 === this.manifest_focus_list.length) ? true : false\n    }\n}\n\nexport default KolmoApplication;\n","import _regeneratorRuntime from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport Manifest from './manifest.js';\nimport Wasm from './wasm.js';\n\nvar Formula =\n/*#__PURE__*/\nfunction () {\n  function Formula(json, manifest) {\n    _classCallCheck(this, Formula);\n\n    this.json = json;\n    this.manifest = manifest;\n    this.wasm = null;\n    this.jsglue = null;\n    this.parameters = []; // validate actor\n\n    if (!this.json.hasOwnProperty(\"actor\")) throw new Error(\"Not found required property actor\");\n    if (!this.json.actor.hasOwnProperty(\"wasm\")) throw new Error(\"Not found required property actor.wasm\");\n    this.wasm = new Manifest(this.json.actor.wasm);\n    this.wasm.ArgName = \"actor.wasm\";\n\n    if (this.json.actor.hasOwnProperty(\"jsglue\")) {\n      this.jsglue = new Manifest(this.json.actor.jsglue);\n      this.jsglue.ArgName = \"actor.jsglue\";\n    } // validate parameters\n\n\n    if (!this.json.hasOwnProperty(\"parameters\")) throw new Error(\"Not found required property parameters\");\n\n    for (var parameter in this.json.parameters) {\n      var param = new Manifest(this.json.parameters[parameter]);\n      param.ArgName = parameter;\n      this.parameters.push(param);\n    }\n\n    ;\n  }\n\n  _createClass(Formula, [{\n    key: \"get_dependencies\",\n    value: function get_dependencies() {\n      var result = {\n        status: \"ok\",\n        data: []\n      };\n      result.data.push(this.wasm);\n      if (this.jsglue) result.data.push(this.jsglue);\n      this.parameters.forEach(function (parameter) {\n        result.data.push(parameter);\n      });\n      return result;\n    }\n  }, {\n    key: \"eval\",\n    value: function () {\n      var _eval2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dependencies_data) {\n        var result, wasm, jsglue, args, parameter, ArgName, arg, wasm_wrapper, mime;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                result = {\n                  status: \"\",\n                  data: []\n                };\n                wasm = dependencies_data.get(\"actor.wasm\");\n\n                if (!(null === wasm)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                result.status = \"Evaluation failed, has no actor.wasm data\";\n                return _context.abrupt(\"return\", result);\n\n              case 5:\n                jsglue = null;\n\n                if (!this.jsglue) {\n                  _context.next = 11;\n                  break;\n                }\n\n                jsglue = dependencies_data.get(\"actor.jsglue\");\n\n                if (!(null == jsglue)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                result.status = \"Evaluation failed, has no actor.jsglue data\";\n                return _context.abrupt(\"return\", result);\n\n              case 11:\n                args = [];\n                _context.t0 = _regeneratorRuntime.keys(this.parameters);\n\n              case 13:\n                if ((_context.t1 = _context.t0()).done) {\n                  _context.next = 24;\n                  break;\n                }\n\n                parameter = _context.t1.value;\n                ArgName = this.parameters[parameter].ArgName;\n                arg = dependencies_data.get(ArgName);\n\n                if (!(null == arg)) {\n                  _context.next = 20;\n                  break;\n                }\n\n                result.status = \"Evaluation failed, has no \" + ArgName + \" data\";\n                return _context.abrupt(\"return\", result);\n\n              case 20:\n                arg.ArgName = ArgName;\n                args.push(arg);\n                _context.next = 13;\n                break;\n\n              case 24:\n                wasm_wrapper = new Wasm(wasm, jsglue);\n                _context.next = 27;\n                return wasm_wrapper.init();\n\n              case 27:\n                result = _context.sent;\n\n                if (!(\"ok\" === result.status)) {\n                  _context.next = 33;\n                  break;\n                }\n\n                _context.next = 31;\n                return wasm_wrapper.exec(args);\n\n              case 31:\n                result = _context.sent;\n\n                if (\"ok\" === result.status) {\n                  if (this.manifest) {\n                    mime = this.manifest.get_mime();\n                    if (\"ok\" === mime.status) result.data.MIME = mime.data;\n                  }\n                }\n\n              case 33:\n                return _context.abrupt(\"return\", result);\n\n              case 34:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _eval(_x) {\n        return _eval2.apply(this, arguments);\n      }\n\n      return _eval;\n    }()\n  }]);\n\n  return Formula;\n}();\n\nexport default Formula;","import _regeneratorRuntime from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/waterlooit/Desktop/Kolmo/kolmonet/app/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar Wasm =\n/*#__PURE__*/\nfunction () {\n  function Wasm(raw_wasm, jsglue) {\n    _classCallCheck(this, Wasm);\n\n    this.raw_wasm = raw_wasm;\n    this.jsglue = jsglue;\n    this.wasm = null;\n    this.wasm_memory = null;\n  }\n\n  _createClass(Wasm, [{\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var result, wasmModule, wasm, jsglue, Module;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                result = {\n                  status: \"ok\"\n                };\n                _context.prev = 1;\n\n                if (!(null === this.wasm)) {\n                  _context.next = 19;\n                  break;\n                }\n\n                if (!(null === this.jsglue)) {\n                  _context.next = 14;\n                  break;\n                }\n\n                _context.next = 6;\n                return new WebAssembly.compile(this.raw_wasm);\n\n              case 6:\n                wasmModule = _context.sent;\n                _context.next = 9;\n                return new WebAssembly.instantiate(wasmModule, []);\n\n              case 9:\n                wasm = _context.sent;\n                this.wasm = wasm.exports;\n                this.wasm_memory = this.wasm.memory;\n                _context.next = 19;\n                break;\n\n              case 14:\n                jsglue = this.stringFromUTF8Array(this.jsglue);\n                Module = Function('\"use strict\";' + jsglue + 'return Module;')();\n                _context.next = 18;\n                return new Promise(function (resolve, reject) {\n                  function onRuntimeInitialized() {\n                    resolve(\"onRuntimeInitialized\");\n                  }\n\n                  _this.wasm = new Module({\n                    wasmBinary: _this.raw_wasm,\n                    onRuntimeInitialized: onRuntimeInitialized\n                  });\n                });\n\n              case 18:\n                this.wasm_memory = this.wasm.wasmMemory;\n\n              case 19:\n                _context.next = 24;\n                break;\n\n              case 21:\n                _context.prev = 21;\n                _context.t0 = _context[\"catch\"](1);\n                result.status = this.create_error(\"Exception while init: \" + _context.t0);\n\n              case 24:\n                return _context.abrupt(\"return\", result);\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 21]]);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"exec\",\n    value: function () {\n      var _exec = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(args) {\n        var result, init_res, arg, arg_index, arg_name_buffer, size, pointer, pWasmData, i, argSize, argPointer, pWasmArgData, j, resSize, resPointer, result_data, pResultData, k;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                result = {\n                  status: \"\",\n                  data: []\n                };\n                _context2.prev = 1;\n                _context2.next = 4;\n                return this.init();\n\n              case 4:\n                init_res = _context2.sent;\n\n                if (!(\"ok\" === init_res.status)) {\n                  _context2.next = 44;\n                  break;\n                }\n\n                _context2.t0 = _regeneratorRuntime.keys(args);\n\n              case 7:\n                if ((_context2.t1 = _context2.t0()).done) {\n                  _context2.next = 41;\n                  break;\n                }\n\n                arg = _context2.t1.value;\n\n                if (!(null == args[arg])) {\n                  _context2.next = 12;\n                  break;\n                }\n\n                result.status = this.create_error(\"Wrong usage, one of arguments is empty\");\n                return _context2.abrupt(\"return\", result);\n\n              case 12:\n                // lets findout argument index by name\n                arg_index = 0;\n\n                if (args[arg].hasOwnProperty(\"ArgName\")) {\n                  _context2.next = 16;\n                  break;\n                }\n\n                result.status = this.create_error(\"Wrong usage, one of arguments has no 'ArgName' property\");\n                return _context2.abrupt(\"return\", result);\n\n              case 16:\n                arg_name_buffer = new Uint8Array(Buffer.from(args[arg][\"ArgName\"]));\n                size = arg_name_buffer.length;\n                pointer = this.wasm._set_arg_name(arg, arg_name_buffer.length);\n\n                if (!(0 !== pointer)) {\n                  _context2.next = 28;\n                  break;\n                }\n\n                pWasmData = new Uint8ClampedArray(this.wasm_memory.buffer, pointer, size);\n\n                for (i = 0; i < pWasmData.length; i++) {\n                  pWasmData[i] = arg_name_buffer[i];\n                }\n\n                arg_index = this.wasm._get_arg_index(arg);\n\n                if (!(0 === arg_index)) {\n                  _context2.next = 26;\n                  break;\n                }\n\n                result.status = this.create_last_error();\n                return _context2.abrupt(\"return\", result);\n\n              case 26:\n                _context2.next = 30;\n                break;\n\n              case 28:\n                result.status = this.create_last_error();\n                return _context2.abrupt(\"return\", result);\n\n              case 30:\n                // set arg data to Wasm\n                argSize = args[arg].length;\n                argPointer = this.wasm._set_arg(arg_index, argSize);\n\n                if (!(0 !== argPointer)) {\n                  _context2.next = 37;\n                  break;\n                }\n\n                pWasmArgData = new Uint8ClampedArray(this.wasm_memory.buffer, argPointer, argSize);\n\n                for (j = 0; j < pWasmArgData.length; j++) {\n                  pWasmArgData[j] = args[arg][j];\n                }\n\n                _context2.next = 39;\n                break;\n\n              case 37:\n                result.status = this.create_last_error();\n                return _context2.abrupt(\"return\", result);\n\n              case 39:\n                _context2.next = 7;\n                break;\n\n              case 41:\n                // exec alg in wasm\n                if (this.wasm._exec()) {\n                  // get result\n                  resSize = this.wasm._get_result_size();\n                  resPointer = this.wasm._get_result();\n\n                  if (0 !== resPointer) {\n                    result_data = [];\n                    pResultData = new Uint8ClampedArray(this.wasm_memory.buffer, resPointer, resSize);\n\n                    for (k = 0; k < pResultData.length; k++) {\n                      result_data.push(pResultData[k]);\n                    } // TODO:\n                    // result[\"MIME\"] = this.wasm._get_result_type();\n\n\n                    result.status = \"ok\";\n                    result.data = result_data;\n                  } else result.status = this.create_last_error();\n                } else result.status = this.create_last_error();\n\n                _context2.next = 45;\n                break;\n\n              case 44:\n                result.status = this.create_error(\"Init error: \" + init_res.status);\n\n              case 45:\n                _context2.next = 50;\n                break;\n\n              case 47:\n                _context2.prev = 47;\n                _context2.t2 = _context2[\"catch\"](1);\n                result.status = this.create_error(\"Exception while exec: \" + _context2.t2);\n\n              case 50:\n                return _context2.abrupt(\"return\", result);\n\n              case 51:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[1, 47]]);\n      }));\n\n      function exec(_x) {\n        return _exec.apply(this, arguments);\n      }\n\n      return exec;\n    }()\n  }, {\n    key: \"create_error\",\n    value: function create_error(text) {\n      return text;\n    }\n  }, {\n    key: \"create_last_error\",\n    value: function create_last_error() {\n      var error = [];\n\n      var pointer = this.wasm._get_last_error();\n\n      var size = this.wasm._get_last_error_size();\n\n      var pWasmData = new Uint8ClampedArray(this.wasm_memory.buffer, pointer, size);\n\n      for (var i = 0; i < pWasmData.length; i++) {\n        error.push(pWasmData[i]);\n      }\n\n      return this.create_error(this.stringFromUTF8Array(error));\n    }\n  }, {\n    key: \"stringFromUTF8Array\",\n    value: function stringFromUTF8Array(data) {\n      var extraByteMap = [1, 1, 1, 1, 2, 2, 3, 0];\n      var count = data.length;\n      var str = \"\";\n\n      for (var index = 0; index < count;) {\n        var ch = data[index++];\n\n        if (ch & 0x80) {\n          var extra = extraByteMap[ch >> 3 & 0x07];\n          if (!(ch & 0x40) || !extra || index + extra > count) return null;\n          ch = ch & 0x3F >> extra;\n\n          for (; extra > 0; extra -= 1) {\n            var chx = data[index++];\n            if ((chx & 0xC0) !== 0x80) return null;\n            ch = ch << 6 | chx & 0x3F;\n          }\n        }\n\n        str += String.fromCharCode(ch);\n      }\n\n      return str;\n    }\n  }]);\n\n  return Wasm;\n}();\n\nexport default Wasm;","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport KolmoApplication from '../KolmoApplication.js';\nimport DataViewer from './DataViewer';\nimport Manifest from '../../../scripts/manifest.js';\n\n\nclass ViewButton extends Component {\n\n    constructor(props) \n    {\n        super(props)\n\n        this.state = {\n            textAreaID: props.textAreaID,\n            manifestDataHolderID: props.manifestDataHolderID,\n            viewerIsShown: false,\n            showData: false,\n            \n            \n        }\n\n        this.actionClick = this.actionClick.bind(this)\n    }\n    \n    \n\n    actionClick(event)\n    {\n        ReactDOM.unmountComponentAtNode(document.getElementById(this.state.manifestDataHolderID));\n\n        let btn_caption = event.target.innerHTML;\n\n        event.target.innerHTML = \"evaluating...\";\n\n        this.setState({ viewerIsShown : !this.state.viewerIsShown}); \n       \n        \n        let application = new KolmoApplication(process.env.REACT_APP_DEDICATED_SERVER_ADDRESS);\n\n        let data_to_view = { MIME:\"\", data:\"\" };\n\n        let manifest = null;\n\n        try\n        {\n            let manifestText = document.getElementById(this.state.textAreaID).value\n            \n            manifest = new Manifest(JSON.parse(manifestText))\n        }\n        catch(error)\n        {\n            data_to_view.MIME = \"text\"\n            data_to_view.data = new Uint8Array(Buffer.from(\"\"+error))\n        }\n\n        if (null == manifest)\n        {\n            ReactDOM.render(<DataViewer viewerIsShown={this.state.viewerIsShown} showData={this.state.showData} data={data_to_view}/>, document.getElementById(this.state.manifestDataHolderID));\n\n            event.target.innerHTML = btn_caption;\n\n            return;\n        }\n\n        manifest.target = event.target\n        manifest.btn_caption = btn_caption\n\n        application.engine.eval_manifest(manifest).then(data =>{\n        \n            manifest.target.innerHTML = manifest.btn_caption\n\n            if (data.data.MIME)\n                data_to_view.MIME = data.data.MIME\n            else\n                data_to_view.MIME = \"text\"\n\n            data_to_view.data = data.data\n\n            ReactDOM.render( <DataViewer viewerIsShown={this.state.viewerIsShown} showData={this.state.showData} data={data_to_view}/>, document.getElementById(this.state.manifestDataHolderID));\n        })\n        \n    }\n\n    render() {\n        return (\n            <button className=\"btn btn-sm btn-warning m-2 float-center\" onClick={this.actionClick}>View Data</button>\n        )\n    }\n}\n\nexport default ViewButton;","import React, { Component } from 'react';\n\nconst startCount = 10\nconst finishCount = 10\n\nclass Cache extends Component {\n\n    constructor(props) \n    {\n        super(props)\n\n        this.state = {\n            cache: props.cache,\n            updateApp: props.updateApp,\n            application: props.application,\n            showData: props.showData,\n            \n        }\n\n        this.handleCacheOper = this.handleCacheOper.bind(this)\n\n        this.handleDataView = this.handleDataView.bind(this)\n        this.handleManifestView = this.handleManifestView.bind(this)\n\n    }\n    \n\n    handleCacheOper(event)\n    {\n        if (this.state.cache[event.target.name](event.target.value))\n            this.state.updateApp()\n           \n\n    }\n\n\n    strDigest(data)\n    {\n        let str = data\n        \n        if (typeof data !== 'string')\n            str = new Uint8Array(data).toString()\n        \n        if ( str.length > (startCount + finishCount) )\n            return str.substr(0, startCount) + \"...\" + str.substr((str.length - finishCount), finishCount)\n        else\n            return str\n    }\n\n\n    viewManifestButton(doi) {\n        return <button className=\"btn btn-sm btn-success \" onClick={this.handleManifestView} value={doi}>View Manifest</button>\n        \n    }\n\n\n    handleManifestView(event)\n    {\n\n        let manifest = this.state.cache.get_manifest_by_doi(event.target.value);\n        this.state.application.updateDataView({MIME : \"manifest\", data : manifest.data});\n        this.props.dataTogglePopup();\n\n        \n    }\n\n\n    viewDataButton(doi)\n    {\n\n        let manifest = this.state.cache.get_manifest_by_doi(doi);\n        let data = this.state.cache.get_data_by_doi(doi);\n        \n        if (manifest.status && data.status && manifest.data !== null) \n\n            return <button className=\"btn btn-sm btn-success\" onClick={this.handleDataView} value={doi}>View Data</button>\n        else\n            return \"\"\n    };\n\n\n    \n    handleDataView(event)\n    {\n\n        let manifest = this.state.cache.get_manifest_by_doi(event.target.value);\n        let data = this.state.cache.get_data_by_doi(event.target.value);\n\n         this.state.application.updateDataView({MIME : manifest.data.get_mime().data, data : data.data});\n         this.props.dataTogglePopup();\n         //console.log(this.props.showData);\n      \n        \n\n        \n    }\n\n\n    render()\n    {\n        let cache = this.state.cache\n\n        let cm = cache.get_cached_manifests()\n        let cd = cache.get_cached_data()\n        const col6 = \"col-md-6 alert alert-success alert-dismissible fade show\"\n        \n        let cachedManifests = cm.map(value => \n        <div className=\"row\">\n        <div className={col6} title={value.doi}> {this.strDigest(value.doi)}</div>\n        <div className={col6}>{this.strDigest(JSON.stringify(value.value))}</div>\n        \n        <div className=\"col-md-6\" >{this.viewManifestButton(value.doi)}</div>\n        <div className=\"col-md-6\"><button className=\"btn btn-sm btn-danger\" onClick={this.handleCacheOper} name=\"delete_manifest_by_doi\" value={value.doi}>Delete</button>\n        </div>\n        <div className=\"col-md-12 p-2\"></div></div>)\n        let cachedData = cd.map(value => \n            <div className=\"row\">\n            <div className={col6} title={value.doi}>{this.strDigest(value.doi)}</div>\n            <div className={col6}>{this.strDigest(value.value)} Data length = {value.value.length}</div>\n            \n            \n            <div className=\"col-md-6\" >{this.viewDataButton(value.doi)}</div>\n            <div className=\"col-md-6\"><button className=\"btn btn-sm btn-danger\" onClick={this.handleCacheOper} name=\"delete_data_by_doi\"\n             value={value.doi}>Delete</button></div></div>\n             )\n\n        return (\n               \n                <div className=\"Cache col-lg-12 bg-secondary m-2 text-white\" /*style={{display: cache.get_cached_manifests_size() || cache.get_cached_data_size() !== 0 ? 'block' : 'none'}}*/>\n                \n                    \n                    <div className=\"col-md-12 font-weight-bold\"> CACHE </div>\n                    \n                    <div className=\"row m-2\">\n                    <div className=\"col-md-6 text-md-left font-weight-bold p-1\">Entity type</div>\n                    <div className=\"col-md-6 text-md-right font-weight-bold p-1\">Count</div>\n                    <div className=\"col-md-12 border-bottom\"></div>\n                    </div>\n                    \n                    <div className=\"row m-2\">\n                    <div className=\"col-md-11 text-md-left p-1\">Manifest</div>\n                    <div className=\"col-md-1 alert alert-success alert-dismissible fade show p-1\">{cache.get_cached_manifests_size()}</div>\n                    </div>\n                    <div className=\"row m-2\">\n                    <div className=\"col-md-11 text-md-left p-1\">Data</div>\n                    <div className=\"col-md-1  alert alert-success alert-dismissible fade show p-1\" >{cache.get_cached_data_size()}</div>\n                   </div>\n                    <div className=\"col-md-12 border-bottom\"></div>\n                    <div className=\"col-md-12\"><button className=\"btn btn-sm btn-warning m-3\" onClick={this.handleCacheOper} \n                    name=\"clear\" value=\"()\">Clear</button></div>\n                        \n                    \n                    <div className=\"col-md-6 text-md-left font-weight-bold p-2\">DOI</div>\n                    <div className=\"col-md-6 text-md-left font-weight-bold p-2\">Manifest</div>\n                    \n                    \n                          {cachedManifests} \n                    \n                    \n                    <div className=\"col-md-12 p-3 border-bottom\"></div>\n                    <div className=\"col-md-6  text-md-left font-weight-bold p-2\">DOI</div>\n                    <div className=\"col-md-6  text-md-left font-weight-bold p-2\">Data</div>\n                    \n                   \n                            {cachedData}\n                        \n                        \n                              </div>\n        );\n    }\n}\n\nexport default Cache;","import React, { Component } from 'react';\n\n\nclass Network extends Component {\n\n    constructor(props) \n    {\n        super(props)\n\n        this.state = {\n            network: props.network,\n            updateApp: props.updateApp,\n            fetchManifestResult: \"\",\n            fetchDataResult: \"\",\n            doi: \"\",\n            defaultValue: \"Pick DOI from the list\",\n        }\n\n        this.handleFetch = this.handleFetch.bind(this)\n        this.handleDOIChange = this.handleDOIChange.bind(this)\n        this.handleClearDOI = this.handleClearDOI.bind(this)\n    }\n\n    handleDOIChange(event)\n    {\n        this.setState({\n            doi: event.target.value\n        })\n    }\n\n    handleClearDOI() \n     {\n       this.setState({\n        doi: \"\"},  () => \n        console.log(this.state.doi));\n             }\n        \n    \n    async handleFetch(event)\n    {\n        let fetchRes = event.target.value\n\n        if (\"\" === this.state.doi)\n        {\n            this.setState({\n                [fetchRes]: \"Empty DOI\"\n            })\n\n            return\n        }\n\n        this.state.network[event.target.name](this.state.doi).then( res => {\n            \n            this.setState({\n                [fetchRes]: res.status\n            })\n\n            if (\"ok\" === res.status)\n                this.state.updateApp()\n        })\n    }\n\n    render()\n    \n    {\n\n        return (\n\n            <div className=\"Network p-1 bg-secondary rounded-lg text-white\">\n            \n\n                    <div className=\"col-md-12 font-weight-bold p-1\">NETWORK</div>\n                <div className=\"col-md-12\">\n                <select className=\"form-control alert-success alert-dismissible fade show p-2\" \n                id=\"dois\" onChange={this.handleDOIChange} value={this.state.doi}>\n                    <option defaultValue>Choose DOI from the list</option>\n                    <option value=\"03FEE1468FF693744FDEFB20D41E793E6A03CFBDD3687901EA99271DCC702DF8\">Doi 1 {this.state.doi}</option>\n                    <option value=\"00A66067BD93F5417D9E94858795B6E852EF90DE790C543B1E47A2E009D435F3\">Doi 2 {this.state.doi}</option>\n                    <option value=\"0487DEB729ABE42001007D1ADBEF310FE6BCBD308B7A889458F2E1F8B1C5D14E\">Doi 3 {this.state.doi}</option>\n                </select>\n                </div>\n               \n                   \n                                <div  style={{display: this.state.doi ? 'block' : 'none'}}>\n                                <div className=\"col-md-12\">\n                                <button className=\"btn btn-sm active btn-secondary m-3\" onClick={this.handleFetch} name=\"search_manifest_by_doi\" value=\"fetchManifestResult\">Fetch Manifest</button>\n\n                                <div className=\"col-md-12 alert alert-success\">{this.state.fetchManifestResult}</div></div>\n                          \n                                <div className=\"col-md-12\"><button className=\"btn btn-sm active btn-secondary m-3\" onClick={this.handleFetch} name=\"search_data_by_doi\" value=\"fetchDataResult\">Fetch Data</button>\n                                <div className=\"col-md-12 alert alert-success\" style={{display: this.state.doi ? 'block' : 'none'}}>{this.state.fetchDataResult}</div></div>\n\n                                <div className=\"col-md-12\"><button className=\"btn btn-sm btn-warning\" onClick={this.handleClearDOI} name=\"clear_DOI\">Clear</button> </div>\n                                </div>\n                          \n              </div>                             \n              \n\n            \n        );\n    }\n}\n\nexport default Network;","import React, { Component } from 'react';\nimport Manifest from './Manifest.js'\n\nclass Formula extends Component {\n    constructor(props) \n    {\n        super(props)\n\n        this.state = {\n            application: props.application,\n            updateApp: props.updateApp,\n            formula: props.formula,\n            cache: props.application.engine.cache(),\n            network: props.application.engine.network(),\n            evalResult: \"\",\n            dataTogglePopup: props.dataTogglePopup,\n        }\n\n        this.handleEval = this.handleEval.bind(this)\n        \n    }\n\n    \n    handleEval(event)\n    {\n        let btn = event.target\n        let btn_caption = event.target.innerHTML\n\n        event.target.innerHTML = \"evaluating...\";\n\n        this.state.application.engine.eval(this.state.formula).then( result => {\n\n            this.setState({\n                evalResult: result.status\n            })\n            \n            this.state.updateApp()\n\n            btn.innerHTML = btn_caption\n        });\n    }\n\n    getDependencies()\n    {\n        let FromulaDependency = \"\"\n\n        let dependencies = this.props.formula.get_dependencies()\n\n        if (0 === dependencies.data.length)\n        {\n            if (\"ok\" !== dependencies.status)\n                FromulaDependency = \"Error getting dependency: \" + dependencies.status\n            else\n                FromulaDependency = \"Has no dependency\"\n        }\n        else\n            FromulaDependency = dependencies.data.map(dep => <div>{dep.ArgName}<Manifest application={this.state.application} dataTogglePopup={this.state.dataTogglePopup} updateApp={this.state.updateApp} manifest={{data:dep,status:\"ok\"}} /></div>)\n        \n        return FromulaDependency\n    }\n\n    render()\n    {\n        return (\n            <div className=\"col-md-12\">\n                <button className=\"btn btn-sm btn-warning m-2\" onClick={this.handleEval}>Evaluate Formula</button>\n               \n                <div className=\"border-bottom m-2\"></div>\n            {this.state.evalResult}\n            {this.getDependencies()}\n            </div>\n        );\n    }\n}\n\nexport default Formula;","import React, { Component } from 'react';\nimport Formula from './Formula.js';\n\n\n\n\nclass Manifest extends Component {\n    \n    constructor(props) \n    {\n        super(props)\n\n        this.state = {\n            application: props.application,\n            updateApp: props.updateApp,\n            cache: props.application.engine.cache(),\n            network: props.application.engine.network(),\n            manifest: props.manifest,\n            init_manifest: props.manifest,\n            rootManifest: props.rootManifest,\n            showData: props.showData,\n            dataTogglePopup: props.dataTogglePopup,\n            showFormulas: props.showFormulas,\n            \n\n        }\n\n        this.handleFetchManifest = this.handleFetchManifest.bind(this)\n        this.handleRemoveManifest = this.handleRemoveManifest.bind(this)\n        \n        this.handleFetchData = this.handleFetchData.bind(this)\n        this.handleRemoveData = this.handleRemoveData.bind(this)\n        this.handleViewData = this.handleViewData.bind(this)\n        this.handleManifestView = this.handleManifestView.bind(this)\n        \n\n        if (this.state.rootManifest)\n        {\n            this.updateManifest = this.updateManifest.bind(this)\n            this.state.application.setUpdateManifest(this.updateManifest)\n        }\n\n        this.handleChangeManifestFocus = this.handleChangeManifestFocus.bind(this)\n    }\n\n    \n    handleViewData(){\n        this.state.application.updateDataView({MIME : this.state.manifest.data.get_mime().data, data : this.state.manifest.rawData});\n        this.state.updateApp();\n        this.state.dataTogglePopup();\n        \n        \n    }\n    handleManifestView()\n    {\n        let manifest = this.props.manifest;\n        this.state.updateApp();\n        this.state.application.updateDataView({MIME : \"manifest\", data : manifest.data});\n        this.state.dataTogglePopup();\n \n    }\n        \n\n    handleChangeManifestFocus()\n    {\n        if (this.state.rootManifest)\n            this.state.application.PopManifestFocusList()\n        else\n            this.state.application.PushManifestFocusList(this.state.manifest)\n    }\n\n    updateManifest()\n    {\n        this.setState({\n            manifest: this.state.application.getCurrentManifest(),\n            init_manifest: this.state.application.getCurrentManifest(),\n        });\n        this.state.updateApp();\n    }\n\n    handleFetchManifest(event)\n    {\n        let btn = event.target\n        let btn_caption = event.target.innerHTML\n\n        event.target.innerHTML = \"fetching...\";\n\n        this.state.network.search_manifest_by_doi(event.target.value).then( fetchRes => {\n            if (\"ok\" === fetchRes.status)\n            {\n                this.setState({\n                    manifest: fetchRes\n                })\n                \n                this.state.updateApp()\n            }\n            else\n                btn.innerHTML = btn_caption\n        })\n    }\n\n    handleRemoveManifest(event)\n    {\n        if (this.state.cache.delete_manifest_by_doi(event.target.value))\n        {\n            this.setState({\n                manifest: this.state.init_manifest\n            })\n\n            this.state.updateApp()\n        }\n    }\n\n    handleFetchData(event)\n    {\n        let btn = event.target\n        let btn_caption = event.target.innerHTML\n\n        event.target.innerHTML = \"fetching...\";\n\n        this.state.network.search_data_by_doi(event.target.value).then( fetchRes => {\n            \n            if (\"ok\" === fetchRes.status)\n            {\n                let updatedManifest = this.state.manifest\n                updatedManifest.rawData = fetchRes.data\n\n                this.setState({\n                    manifest: updatedManifest\n                })\n            }\n            else\n                btn.innerHTML = btn_caption \n\n            this.state.updateApp()\n        })\n    }\n\n    handleRemoveData(event)\n    {\n        if (this.state.cache.delete_data_by_doi(event.target.value))\n        {\n            let updatedManifest = this.state.manifest\n            updatedManifest.rawData = null\n\n            this.setState({\n                manifest: updatedManifest\n            })\n\n            this.state.updateApp()\n        }\n    }\n\n    getManifestHeader()\n    {\n        \n        let ManifestHeader = <div>\"Has no DOI\"</div>\n\n        let manifestDoi = this.state.manifest.data.get_doi()\n\n        if (\"ok\" === manifestDoi.status)\n        {\n            let doi = manifestDoi.data[0]\n\n            // this trick needs to update same manifests in other formulas !\n            {\n                let manifestInCache = this.state.cache.get_manifest_by_doi(doi)\n                if (\"ok\" === manifestInCache.status)\n                    this.state.manifest = manifestInCache\n                else\n                    this.state.manifest = this.state.init_manifest\n\n                let dataInCache = this.state.cache.get_data_by_doi(doi)\n                if (\"ok\" === dataInCache.status)\n                    this.state.manifest.rawData = dataInCache.data\n                else\n                {\n                    let raw_value = this.state.manifest.data.get_raw_value()\n                    if (\"ok\" === raw_value.status)\n                        this.state.manifest.rawData = raw_value.data\n                    else\n                        this.state.manifest.rawData = null\n                }\n            }\n\n            let manifestMime = (\"ok\" === this.state.manifest.data.get_mime().status) ? \"MIME: '\" + this.state.manifest.data.get_mime().data + \"'\" : this.state.manifest.data.get_mime().status\n\n            let manifestSize = (\"ok\" === this.state.manifest.data.get_size().status) ? \"Size: \" + this.state.manifest.data.get_size().data + \"\" : this.state.manifest.data.get_size().status\n\n            if (doi)\n            {\n                if (doi.length > 10)\n                    ManifestHeader = \"DOI: \" + doi.substr(0,10) + \"...\" + doi.substr((doi.length - 10), 10) \n                     + manifestMime + \", \" + manifestSize\n                else\n                    ManifestHeader = \"DOI: \" + doi + \"; \"  + manifestMime + \", \" + manifestSize\n            }\n            else\n                ManifestHeader = \"Has no DOI \" + manifestMime + \", \" + manifestSize\n\n            if ( null != this.state.manifest.rawData )\n            {    \n                let rawData = new Uint8Array(this.state.manifest.rawData).toString()\n                ManifestHeader = ManifestHeader + \", Data: \" + rawData.substr(0,10) + \"...\" + rawData.substr((rawData.length - 10), 10)\n            }\n            else\n                ManifestHeader = ManifestHeader + \", Has no data\"\n\n            ManifestHeader = ManifestHeader + \")\"\n            \n        }\n\n        let manifestS = <div className=\"text-left m-2\">\n\n        <p className=\"m-1\">MIME: {(this.state.manifest.data.get_mime().data !== null) ? this.state.manifest.data.get_mime().data : \"Has no MIME\"}</p>\n\n         <p className=\"m-1\">Size: {(this.state.manifest.data.get_size().data !== null) ? this.state.manifest.data.get_size().data : \"Has no size\"}</p>\n\n        <p className=\"m-1 text-truncate\">DOI: {(this.state.manifest.data.get_doi().data !== null) ? this.state.manifest.data.get_doi().data : \"Has no DOI\"}</p>\n\n         <p className=\"m-1\"> Raw Value: {(this.state.manifest.rawData !== null) ? this.state.manifest.data.get_raw_value().data : \"There is no raw value\"}</p>\n      </div>;\n\n    return ManifestHeader && manifestS\n    }\n\n    getManifestControls()\n    {\n        let ManifestControls = \"\"\n       \n        let manifestDoi = this.state.manifest.data.get_doi()\n\n        let viewButton;\n         viewButton=<button className=\"btn btn-sm btn-success m-1\" onClick={this.handleManifestView}>View Manifest</button>\n        \n        \n        let viewDataButton;\n         viewDataButton=<button className=\"btn btn-sm btn-success m-1\" onClick={this.handleViewData}>View Data</button>\n       \n        \n\n        if (\"ok\" === manifestDoi.status)\n        {\n            let doi = manifestDoi.data[0]\n\n            let manifestInCache = this.state.cache.get_manifest_by_doi(doi)\n\n            let mC = \"\"\n            if (\"ok\" === manifestInCache.status)\n                mC = <div ><button className=\"btn btn-sm btn-danger m-1\" onClick={this.handleRemoveManifest} value={doi}>Remove Manifest</button></div>\n                \n            else\n                mC = <div><button className=\"btn btn-sm btn-primary m-1\" onClick={this.handleFetchManifest} value={doi}>Fetch Manifest</button>       \n                </div>\n            \n            let pW = <div>{viewButton}\n            </div>\n               \n\n            let dataInCache = this.state.cache.get_data_by_doi(doi)\n\n            let dC = \"\"\n            if (\"ok\" === dataInCache.status)\n                dC = <div><button className=\"btn btn-sm btn-danger m-1\" onClick={this.handleRemoveData} value={doi}>Remove Data</button></div>\n            else\n                dC = <div><button className=\"btn btn-sm btn-primary m-1\" onClick={this.handleFetchData} value={doi}>Fetch Data</button></div>\n\n            let dV = \"\"\n            if (((\"ok\" === manifestInCache.status)||(\"ok\"===this.state.manifest.data.get_mime().status)) && (\"ok\" === dataInCache.status))\n                dV = <div>{viewDataButton}\n                </div> \n            else\n            {\n                if ((\"ok\"===this.state.manifest.data.get_mime().status) && this.state.manifest.rawData)\n                    dV = <div><button className=\"btn btn-sm btn-info m-1\" onClick={this.handleViewData}>View Data</button>\n                    </div>  \n            }\n\n            \n\n            ManifestControls = <div className=\"btn-group bg-secondary border-0\" role=\"group\" aria-label=\"Manifest controls\">\n            <div>{mC}</div><div>{dC}</div><div>{dV}</div><div>{pW}</div>\n            \n            </div>\n\n        }\n\n        return ManifestControls\n    }\n\n    getManifestFormulas()\n    {\n        let ManifestFromulas = \"\"\n\n        let formulas = this.state.manifest.data.get_formulas()\n\n        if (0 === formulas.data.length)\n        {\n            if (\"ok\" !== formulas.status)\n                ManifestFromulas = \"Error getting formulas: \" + formulas.status\n            else\n                ManifestFromulas = \"Has no formulas\"\n        }\n        else\n            ManifestFromulas = formulas.data.map(formula => <div className=\"bg-secondary text-white\">\n\n            <Formula application={this.state.application} dataTogglePopup={this.state.dataTogglePopup} updateApp={this.state.updateApp} formula={formula}/></div>)\n\n\n        return ManifestFromulas \n    }\n    \n\n    render()\n    {\n        if ((null == this.state.manifest) || (\"ok\" !== this.state.manifest.status))\n        {\n            let outStr = (null != this.state.manifest) ? this.state.manifest.status : \"is not defined\"\n\n            return (\n\n                <nav className=\"Manifest bg-secondary text-white m-2\">\n                    <div className=\"alert alert-success alert-dismissible fade show rounded-lg\">\n                        <div className=\"col-md-12 font-weight-bold\">MANIFEST</div>\n                        <div>{outStr}</div>\n                    </div>\n        </nav>\n            )\n        }\n\n        let focus_button = <button className=\"btn btn-md btn-secondary\" onClick={this.handleChangeManifestFocus}><span role=\"img\" aria-label=\"lookup\">&#x1F50D;</span></button>\n\n        if (this.state.rootManifest)\n        {\n            if (false === this.state.application.ManifestFocusListIsEmpty())\n                focus_button = <button className=\"btn btn-md btn-secondary\" onClick={this.handleChangeManifestFocus}><span role=\"img\" aria-label=\"return\">&#9166;</span></button>\n            else\n                focus_button = \"\";\n        }\n        \n        let show_formulas = \"\";\n        {if (this.props.showFormulas) show_formulas = <div>\n            {focus_button}\n        <div>{this.getManifestFormulas()}</div></div>\n        else show_formulas = null;\n        \n   }\n\n        return (\n            <nav className=\"Manifest\">\n                <div className=\"p-1 border-0 bg-secondary rounded-lg text-white\">\n\n                <div className=\"d-flex justify-content-end m-0\">{focus_button}</div>\n                    <div className=\"alert alert-success alert-dismissible fade show rounded-lg\"> {this.getManifestHeader()}</div>\n                    \n                    <div>\n                    \n                        {this.getManifestControls()}\n                        \n                    </div>\n                   \n                    <div>\n                        {this.getManifestFormulas()} \n                    </div>\n      \n                </div>\n            </nav>\n        );\n    }\n}\n\nexport default Manifest;","import React from 'react';\n\n\nclass NavTabs extends React.Component {  \n    \n  constructor(props) \n  {\n    super(props)\n\n    this.state = {\n      cacheIsShown: props.cacheIsShown,\n      networkIsShown: props.networkIsShown,\n      viewerIsShown: props.viewerIsShown,\n      application: props.application,\n\n     \n    } \n  }\n    render() { \n       \n        return (\n\n     <div className=\"NavTabs bg-secondary text-white rounded-lg p-4\">     \n     <ul className=\"nav nav-tabs bg-secondary md-tabs\" id=\"myTabMD\" role=\"tablist\">\n\n    \n     <li className=\"nav-item \">\n\n    <a className={\"nav-link active btn btn-sm m-2 \" + \n    (this.props.cacheIsShown || this.props.networkIsShown || this.props.viewerIsShown ? \n      \"btn-secondary\" : \"btn-warning\")} id=\"home-tab-md\" data-toggle=\"tab\" href=\"#home-md\" role=\"tab\" \n      aria-controls=\"network-md\"\n      aria-selected=\"true\" onClick={this.props.handleHomePage}>Home</a>\n  </li>\n\n  <li className=\"nav-item\">\n    <a className={\"nav-link active btn btn-sm m-2 \" + \n    (this.props.cacheIsShown ? \"btn-warning\" : \"btn-secondary\")}  id=\"cache-tab-md\" data-toggle=\"tab\" href=\"#cache-md\" role=\"tab\" \n    aria-controls=\"cache-md\"\n      aria-selected=\"false\" onClick={this.props.handleShowCache}>Cache</a>\n  </li>\n\n  <li className=\"nav-item\">\n    <a className={\"nav-link active btn btn-sm m-2 \" + \n    (this.props.networkIsShown ? \"btn-warning\" : \"btn-secondary\")} id=\"network-tab-md\" data-toggle=\"tab\" href=\"#network-md\" role=\"tab\" \n    aria-controls=\"network-md\"\n      aria-selected=\"false\" onClick={this.props.handleShowNetwork}>Network</a>\n  </li>\n  \n  <li className=\"nav-item\">\n    <a className={\"nav-link active btn btn-sm m-2 \" + \n    ( this.props.viewerIsShown ? \"btn-warning\" : \"btn-secondary\")} id=\"viewer-tab-md\" data-toggle=\"tab\" href=\"#viewer-md\" role=\"tab\"\n     aria-controls=\"viewer-md\"\n      aria-selected=\"false\" onClick={this.props.handleShowViewer}>Viewer</a>\n  </li>\n\n  <li className=\"nav-item\">\n    <a className={\"nav-link active btn btn-sm m-2 \" + \n    ( (this.props.application.current_manifest_status === \"ok\") ? \"btn-warning\" : \"btn-secondary\")} id=\"viewer-tab-md\" data-toggle=\"tab\" \n    href=\"#viewer-md\" role=\"tab\" aria-controls=\"viewer-md\"\n      aria-selected=\"false\" onClick={this.props.handleClearAll}>Clear All</a>\n  </li>\n</ul>\n   </div>\n        );\n    }\n}\n\n\nexport default NavTabs;","import React, { Component } from 'react';\nimport './App.css';\nimport Cache from './cmp/Cache.js';\nimport Network from './cmp/Network.js';\nimport Manifest from './cmp/Manifest.js';\nimport DataViewer from './cmp/DataViewer.js';\nimport NavTabs from './cmp/NavTabs.js';\n\n\nclass App extends Component {\n \n  constructor(props) \n  {\n    super(props)\n\n    this.state = {\n      application:  props.application,\n      cache:        props.application.getCache(),\n      network:      props.application.getNetwork(),\n      cacheIsShown: false,\n      networkIsShown: false,\n      viewerIsShown: false,\n      showData: false,\n     \n    }\n    this.updateApp = this.updateApp.bind(this);\n    this.dataTogglePopup = this.dataTogglePopup.bind(this);\n   \n  }\n  dataTogglePopup = () => {  \n    this.setState({  \n       showData: !this.state.showData \n        }); \n          } \n\n    updateApp(){this.forceUpdate()};\n\n     handleShowCache = () => {\n       this.setState({cacheIsShown: !this.state.cacheIsShown})\n      }; \n\n     handleShowNetwork = () => {\n       this.setState({networkIsShown: !this.state.networkIsShown})\n      }; \n\n     handleShowViewer = () => {\n       this.setState({viewerIsShown: !this.state.viewerIsShown})\n      };\n\n     handleHomePage = () => {\n       this.setState({cacheIsShown: false, networkIsShown: false, viewerIsShown: false})\n      }; \n\n     handleClearAll = () => {\n       this.state.application.setNewManifest(null);\n       this.state.cache.clear();\n       this.updateApp();\n      };\n      \n\n  render()\n  \n  {\n      \n    \n    return (\n      <div className=\"container\">\n      <div className=\"App col-lg-12 bg-secondary rounded mb-0 text-white\">\n        <NavTabs \n        handleShowCache={this.handleShowCache} handleShowNetwork={this.handleShowNetwork} handleShowViewer={this.handleShowViewer} \n        handleHomePage={this.handleHomePage} handleClearAll={this.handleClearAll} cacheIsShown={this.state.cacheIsShown} \n        networkIsShown={this.state.networkIsShown} viewerIsShown={this.state.viewerIsShown} application={this.state.application}\n        />\n          <br/>\n       <div>\n        <Manifest application={ this.state.application }  updateApp={this.updateApp} showData={this.state.showData} dataTogglePopup={this.dataTogglePopup.bind(this)}\n        manifest={this.state.application.getCurrentManifest()} rootManifest={true}/> \n        </div>\n        <br/>\n        <div>{this.state.cacheIsShown ?\n        <Cache application={this.state.application} showData={this.state.showData} dataTogglePopup={this.dataTogglePopup.bind(this)} cache={this.state.cache} updateApp={this.updateApp}/> : null}\n        </div>\n        <br/>\n        <div>{this.state.networkIsShown ?\n        <Network network={this.state.network} updateApp={this.updateApp}/> : null}\n        </div>\n        <br/>\n        <div>\n        <DataViewer application={this.state.application}  handleShowViewer={this.handleShowViewer.bind(this)} dataTogglePopup={this.dataTogglePopup.bind(this)} showData={this.state.showData} viewerIsShown={this.state.viewerIsShown}/> \n      </div>\n         </div>\n         </div>\n    );\n  }\n}\n\nexport default App;\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { Component } from 'react';\n\nclass RunButton extends Component {\n\n    constructor(props) \n    {\n        super(props)\n\n        this.state = {\n            application: props.application,\n            textAreaID: props.textAreaID,\n        }\n\n        this.actionClick = this.actionClick.bind(this)\n    }\n\n    actionClick(event){\n        let manifestText = document.getElementById(this.state.textAreaID).value\n        this.state.application.setNewManifest(manifestText)\n        \n\n    }\n\n    render() {\n        return (\n            <button className=\"btn btn-sm btn-primary m-2 float-center\" onClick={this.actionClick}>Manifest to App</button>\n        )\n    }\n}\n\nexport default RunButton;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport KolmoApplication from './KolmoApplication.js'\nimport RunButton from './cmp/RunButton.js'\nimport ViewButton from './cmp/ViewButton.js'\n\nlet application = new KolmoApplication(process.env.REACT_APP_DEDICATED_SERVER_ADDRESS);\n\nReactDOM.render(<App application={application}/>, document.getElementById('root'));\n\nvar interactives = document.querySelectorAll(\"div.interactive-canvas\");\n\ninteractives.forEach(function(interactivePanel) {\n\n    if ( interactivePanel.querySelector(\"textarea.manifest-text\") )\n    {\n        let textAreaID = interactivePanel.querySelector(\"textarea.manifest-text\").id;\n        let buttonElement =  interactivePanel.querySelector(\"span.run-button-placeholder\");\n        if ( buttonElement )\n            ReactDOM.render(<RunButton application={application} textAreaID={textAreaID}/>, buttonElement);\n\n        if ( interactivePanel.querySelector(\"span.manifest-data-placeholder\") )\n        {\n            let manifestDataHolderID = interactivePanel.querySelector(\"span.manifest-data-placeholder\").id\n            buttonElement =  interactivePanel.querySelector(\"span.render-button-placeholder\");\n            if ( buttonElement )\n                ReactDOM.render(<ViewButton textAreaID={textAreaID} manifestDataHolderID={manifestDataHolderID}/>, buttonElement);\n        }\n    }\n});\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}